<div class="container flex flex-row space-x-2 justify-between lg:h-20 items-center py-4">
    <a href="/">
        <img src="/assets/images/logo.webp" class="lg:h-20 h-10">
    </a>
    <div class="hidden lg:flex flex-row space-x-3">
        @for(item of Menus; track item.id) {
        @if (item.children!=null&&item.children.length>0) {

        <a class="flex flex-row items-center header-link py-2 font-semibold uppercase transition-all"
        cdkOverlayOrigin #trigger="cdkOverlayOrigin" 
        (mouseover)="Menus[$index].Show=true"
        >
        {{item.Title}}
        <span class="material-symbols-outlined">
            expand_more
            </span>
    </a>

        <ng-template
        cdkConnectedOverlay
        [cdkConnectedOverlayOrigin]="trigger"
        [cdkConnectedOverlayOpen]="Menus[$index].Show"
      >
      @if (item.id==2) {
        <div class="border rounded-lg grid grid-cols-4 gap-4 bg-white px-2 py-4" (mouseleave)="Menus[$index].Show=false">
            @for (item of item.children; track $index) {
                <a href="danh-muc/{{item.Slug}}">{{item.Title}}</a>
            }
        </div>
      }
      @else {
        <div class="border rounded-lg grid grid-cols-1 gap-4 bg-white px-2 py-4" (mouseleave)="Menus[$index].Show=false">
            @for (item of item.children; track $index) {
                <a href="danh-muc/{{item.Slug}}">{{item.Title}}</a>
            }
        </div>
      }
      </ng-template>
       <!-- <mat-menu #beforeMenu="matMenu" xPosition="before" class="w-screen">
            <div class="w-screen grid grid-cols-4" (mouseleave)="menuTrigger.closeMenu()">
                <a [routerLink]="[item1.Slug]" routerLinkActive="!bg-black !text-white" mat-menu-item
                    *ngFor="let item1 of item.children">{{item1.Title}}
                </a>
            </div>
        </mat-menu> -->
        }
        @else {
        <a class="flex flex-row items-center header-link py-2 font-semibold uppercase transition-all" [routerLink]="[item.Slug]">
            <span class="text-sm">
                {{item.Title}}
            </span>
        </a> }
        }
    </div>
    <div class="flex flex-row space-x-4 items-center">
        <button mat-icon-button [matMenuTriggerFor]="user">
            <span class="material-symbols-outlined">
                person
            </span></button>
        <a href="san-pham-yeu-thich" mat-icon-button matBadge="0">
            <span class="material-symbols-outlined">
                favorite
            </span></a>
        <a href="gio-hang" mat-icon-button matBadge="{{Soluong}}">
            <span class="material-symbols-outlined">shopping_cart</span>
        </a>
        <a href="gio-hang" class="text-red-500 font-bold">
            {{(Tongcong | number:'1.0-0')||'0'}}đ
        </a>
        <mat-menu #user="matMenu" xPosition="before">
            <button mat-menu-item>
                <a routerLink="/admin" routerLinkActive="bg-gray-200" class="flex flex-row space-x-3 items-center">
                    <span class="material-symbols-outlined">account_circle</span>
                    <span>Admin</span>
                </a>
            </button>
            <button mat-menu-item>
                <div class="flex flex-row space-x-3 items-center">
                    <span class="material-symbols-outlined">logout</span>
                    <span>Đăng Xuất</span>
                </div>
            </button>
        </mat-menu>
        <button mat-icon-button (click)="sidebarVisible = true">
            <span class="lg:hidden material-symbols-outlined">
                menu
            </span>
        </button>
        <!-- <button class="flex transition-transform hover:scale-125 align-middle" (click)="toggleTheme()">
            <span *ngIf="!darkmode" class="material-icons">dark_mode</span>
            <span *ngIf="darkmode" class="material-icons">light_mode</span>
        </button> -->
    </div>

</div>
<p-sidebar [(visible)]="sidebarVisible" position="right" class="w-1/2">
    <ng-template pTemplate="header">Header Content</ng-template>
    <ng-template pTemplate="content">Body Content</ng-template>
    <ng-template pTemplate="footer">Footer Content</ng-template>
</p-sidebar>