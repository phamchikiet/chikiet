<div class="bg-gray-50 relative p-4 w-full h-full md:h-auto">
  <div class="relative bg-white rounded-2xl  shadow-gray-700">
    <div class="flex justify-between items-center p-5 rounded-t border-b">
      <a [routerLink]="['../']" (click)="CloseDrawer()">
        <span class="material-symbols-outlined ">
          close
          </span>
        </a>
      <span class="lg:text-xl text-xs font-semibold">
        {{Detail.Title}}
      </span>
      <button mat-stroked-button (click)="UpdateSanpham()">Lưu</button>
    </div>
        <div class="p-4 grid lg:grid-cols-2 grid-cols-1 gap-4">
          <div class="flex flex-col space-y-3">
            <div>
              <app-hinhanh [height]="'h-40'" [Image]="Detail?.Image?.Hinhchinh" (UploadEmit)="GetUpload($event)"></app-hinhanh> 
            </div>
            <mat-form-field appearance="outline" class="w-full text-xs">
              <mat-label>Tên Sản Phẩm</mat-label>
              <input [(ngModel)]="Detail.Title" [ngModelOptions]="{standalone: true}" type="text" matInput 
               class="w-full px-3 py-2 border border-gray-200 rounded"
                [placeholder]="'Tên Sản Phẩm'">
            </mat-form-field> 
            <mat-form-field appearance="outline" class="w-full text-xs">
              <mat-label>Slug</mat-label>
              <input [(ngModel)]="Detail.Slug" [ngModelOptions]="{standalone: true}" type="text" matInput 
               class="w-full px-3 py-2 border border-gray-200 rounded"
                [placeholder]="'Slug'">
            </mat-form-field> 
            
          <mat-form-field appearance="outline" class="w-full text-xs">
            <mat-label>SKU</mat-label>
            <input [(ngModel)]="Detail.SKU" [ngModelOptions]="{standalone: true}" type="text" matInput 
             class="w-full px-3 py-2 border border-gray-200 rounded"
              [placeholder]="'SKU'">
          </mat-form-field> 

            <mat-form-field appearance="outline" class="w-full text-xs">
                <mat-label>Danh Mục</mat-label>
                <mat-select [(ngModel)]="Detail.id_cat" [ngModelOptions]="{standalone: true}">
                  <mat-option [value]="item.id_cat" *ngFor="let item of Danhmuc">{{item.Title}}</mat-option>
                </mat-select>
              </mat-form-field>
              <div class="grid grid-cols-3 items-center gap-2 rounded-lg border p-2">
                <div class="col-span-3 font-bold">Biến Thể</div>
              @for (item of Detail.Giagoc; track $index) {
                <mat-form-field appearance="outline" class="w-full text-xs">
                  <mat-label>Loại</mat-label>
                  <input [(ngModel)]="Detail.Giagoc[$index].loai" [ngModelOptions]="{standalone: true}" type="text" matInput 
                   class="w-full px-3 py-2 border border-gray-200 rounded"
                    [placeholder]="'Loại'">
                </mat-form-field>
                <mat-form-field appearance="outline" class="w-full text-xs">
                  <mat-label>Giá</mat-label>
                  <input [(ngModel)]="Detail.Giagoc[$index].gia" [ngModelOptions]="{standalone: true}" type="text" matInput 
                   class="w-full px-3 py-2 border border-gray-200 rounded"
                    [placeholder]="'Giá'">
                    <mat-hint class="text-red-500">{{Detail.Giagoc[$index].gia|number:'1.0-2'||0}}đ</mat-hint>
                </mat-form-field>
                <mat-form-field appearance="outline" class="w-full text-xs">
                  <mat-label>Đơn Vị Tính</mat-label>
                  <input [(ngModel)]="Detail.Giagoc[$index].dvt" [ngModelOptions]="{standalone: true}" type="text" matInput 
                   class="w-full px-3 py-2 border border-gray-200 rounded"
                    [placeholder]="'Đơn Vị Tính'">
                </mat-form-field>
              }  
              <div><button (click)="AddBienthe()" mat-flat-button color="primary">Thêm Biến Thể</button></div> 
            </div>
          </div>
          <div class="flex flex-col space-y-3">
            <div>
              Mô Tả
              <editor [apiKey]="APITINYMCE" [(ngModel)]="Detail.Mota" [ngModelOptions]="{standalone: true}" [init]="configTiny"></editor>
            </div>
            <div>
             Nội dung
              <editor [apiKey]="APITINYMCE" [(ngModel)]="Detail.Noidung" [ngModelOptions]="{standalone: true}" [init]="configTiny"></editor>
          
            </div>

          </div>
        </div>
  </div>
</div> 